plugins {
    id 'java'
    id 'groovy'
    id 'eclipse'
}

compileJava.options.encoding = 'UTF-8'


repositories {
    mavenCentral()
    mavenLocal()
}


dependencies {
    implementation group: 'org.apache.groovy', name: 'groovy', version: '4.0.+'
    implementation group: 'org.apache.groovy', name: 'groovy-xml', version: '4.0.+'
    implementation group: 'org.apache.commons', name: 'commons-csv', version: '1.9.0'
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.+'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.+'
}

sourceSets {
    main {
        resources {
              srcDir "scripts"
              include "**/*.groovy"
        }
    }
}


compileGroovy {
    groovyOptions.forkOptions.jvmArgs = [ '-Dgroovy.grape.enable=false' ]
}

test {
    useJUnitPlatform()
    jvmArgs '-Dgroovy.grape.enable=false'
}

